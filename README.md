# 테스트 코드의 원칙

1. 한번 작성된 테스트 코드는 영원히 유지보수 해야 한다.
2. 내부 구현 사항을 테스트 하지 않는다.
3. 재사용성을 높인다.(테스트 유틸리티)
4. 배포용 코드와 철저히 분리한다.
5. 테스트코드를 통한 문서화.

---

# 좋은 테스트 코드 구조

> 전체 구조

1. Before
2. Test
3. afterEach, afterAll

> 테스트 구조(AAA, GWT)

1. 준비(Arrange or Given):
   준비과정을 반복사용한다면 유틸리티 함수등으로 재사용성 높이기
2. 실행(Act or When):
   의도적 실패
3. 검증(Assert or Then)

---

# 좋은 테스트 원칙

> FIRST 원칙

- `F`ast (빠르게 수행되는 테스트): 파일, 데이터베이스, 네트워크에 대한 의존성 낮추기(Mock, stub사용)
- `I`solated(독립적인 테스트): 최소한의 유닛으로 검증
- `R`epeatable(실행 때 마다 동일한 결과 유지)
- `S`elf-Validating(결과를 스스로 검증)
- `T`imely(시기 적절하게 테스트 코드 작성): 사용자에게 배포되기 이전에 테스트 코드 작성

---

# 무엇을 테스트할지 모를 때

> Right-BICEP 원칙

- `Right`: 모든 요구사항이 정상 동작하는지 확인
- `B`oundary conditions: 모든 코너 케이스에 대해서 테스트하기 (경계값 테스트, 잘못된 포맷, Null, 특수문자, 중복, 이상값, 순서 불일치)
- `I`nverse relationship: 역관계를 적용해서 결과값을 확인(일관성 유지: 덧셈-> 뺄셈, 추가->제거)
- `C`ross-check: 다른 수단을 이용해서 결과값이 맞는지 확인(리스트에 추가된 요소 = 전체 요소 - 원래 있던 요소, A알고리즘 == B알고리즘)
- `E`rror conditions: 오류상황에 대해서 적당하게 동작하는지 확인
- `P`erformance characteristics: 성능확인은 테스트를 통한 정확한 수치로 확인한다.

---

# 좋은 테스트의 커버리지

> CORRECT 원칙

- `C`onformance: 특정 포맷 준수하는지 확인(전화번호, 이메일 등)
- `O`rdering: 순서 조건 확인(순서가 중요한 경우)
- `R`ange: 제한된 범위보다 작거나 큰 경우 검증 및 에러 대처
- `R`eference: 외부 의존성 유무, 특정 조건의 유무 검증(B함수가 동작하기전에 A함수를 호출해야되는데 A함수가 호출 안되었을 경우)
- `E`xistence: 값이 존재하지 않을때 어떻게 동작하는지(null, undefined, '', 0)
- `C`ardinality: 0-1-N 법칙에 따라 검증(하나도 없을 때, 1개만 있을 때, 여러개가 있을 때)
- `T`ime: 상대, 절대, 동시의 일들(순서가 맞지 않을 때, 소비한 시간, 지역시간 등)
